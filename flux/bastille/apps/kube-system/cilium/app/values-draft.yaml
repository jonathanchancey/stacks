bpf:
  hostLegacyRouting: false
cluster:
  name: bastille
cni:
  customConf: false
  uninstall: false
ipam:
  mode: cluster-pool
  operator:
    clusterPoolIPv4PodCIDRList:
      - 10.44.0.0/16
operator:
  replicas: 1
  unmanagedPodWatcher:
    restart: true
policyEnforcementMode: default
routingMode: tunnel
tunnelProtocol: vxlan
tunnelPort: 8473
rollOutCiliumPods: true
hubble:
  enabled: true
  relay:
    enabled: true
    rollOutPods: true
  ui:
    enabled: true
    rollOutPods: true
    ingress:
      enabled: true
      hosts:
        - hubble.bastille.internal
envoy:
  enabled: true
loadBalancer:
  l7:
    backend: envoy
# don't enable bpf.masquerade without looking into
# https://github.com/siderolabs/talos/pull/9200

# multus needs cni.exclusive=false
# https://www.talos.dev/v1.10/kubernetes-guides/network/multus/
# https://docs.cilium.io/en/stable/network/kubernetes/configuration/#adjusting-cni-configuration
