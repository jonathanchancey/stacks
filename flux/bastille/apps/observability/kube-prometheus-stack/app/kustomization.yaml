---
# yaml-language-server: $schema=https://json.schemastore.org/kustomization
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - ./helmrelease.yaml
configMapGenerator:
  - name: kube-prometheus-stack-values
    files:
      - values.yaml=./helm/values.yaml
generatorOptions:
  disableNameSuffixHash: true
patches:
  - target:
      kind: PersistentVolumeClaim
      name: prometheus-kube-prometheus-stack-db-prometheus-kube-prometheus-stack-0
    patch: |-
      - op: replace
        path: /spec/resources/requests/storage
        value: 90Gi
