---
version: "3.7"
services:
  homeassistant:
    image: lscr.io/linuxserver/homeassistant
    container_name: homeassistant
    network_mode: host
    environment:
      - PUID=998
      - PGID=100
      - TZ=America/Los_Angeles
    volumes:
      - /media/Config/homeassistant:/config
    ports:
      - 8123:8123 #optional
    restart: unless-stopped
    labels:
      - homepage.group=Automation
      - homepage.name=Management
      - homepage.icon=homeassistant.png
      - homepage.href=https://ha.fkn.chancey.dev/
      - homepage.description=Home Automation
  jellyfin:
    image: lscr.io/linuxserver/jellyfin:10.8.8-1-ls196
    container_name: jellyfin
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=America/Los_Angeles
      - JELLYFIN_PublishedServerUrl=10.10.0.5 #optional
    volumes:
      - /media/Config:/config
      - /media/Shows:/data/tvshows
      - /media/Movies:/data/movies
      - /media/Music:/data/music
    ports:
      - 8096:8096
      #- 8920:8920 #optional
      #- 7359:7359/udp #optional
      #- 1900:1900/udp #optional
    labels:
      - homepage.group=Media
      - homepage.name=Jellyfin
      - homepage.icon=jellyfin.png
      - homepage.href=https://jellyfin.fkn.chancey.dev/
      - homepage.description=Media server
    restart: unless-stopped
  navidrome:
    image: deluan/navidrome:latest
    user: 1012:5000 # should be owner of volumes
    ports:
      - "4533:4533"
    restart: unless-stopped
    environment:
      # Optional: put your config options customization here. Examples:
      ND_SCANSCHEDULE: 1h
      ND_LOGLEVEL: info  
      ND_SESSIONTIMEOUT: 24h
      # ND_BASEURL: ""
    volumes:
      - "/media/Config/navidrome:/data"
      - "/media/Music:/music:ro"
    labels:
      - homepage.group=Media
      - homepage.name=Navidrome
      - homepage.icon=navidrome.png
      - homepage.href=https://navidrome.fkn.chancey.dev/
      - homepage.description=Music server
  freshrss:
    image: lscr.io/linuxserver/freshrss:latest
    container_name: freshrss
    environment:
      - PUID=1101
      - PGID=1101
      - UMASK=002
      - TZ=America/Los_Angeles
    volumes:
      - /media/Config/freshrss:/config
    ports:
      - 60001:80
    restart: unless-stopped
    labels:
      - homepage.group=Media
      - homepage.name=FreshRSS
      - homepage.icon=freshrss.png
      - homepage.href=https://freshrss.fkn.chancey.dev/
      - homepage.description=RSS Reader
  # fullfeedrss:
  #   image: "heussd/fivefilters-full-text-rss:latest"
  #   container_name: fullfeedrss
  #   environment:
  #     # Leave empty to disable admin section
  #     - FTR_ADMIN_PASSWORD=
  #   volumes:
  #     - "rss-cache:/var/www/html/cache"
  #   ports:
  #     - "60002:80"
  # heimdall:
  #   image: lscr.io/linuxserver/heimdall:latest
  #   container_name: heimdall
  #   environment:
  #     - PUID=1000
  #     - PGID=1000
  #     - TZ=America/Los_Angeles
  #   volumes:
  #     - /media/Config/heimdall:/config
  #   ports:
  #     - 82:80
  #     - 445:443
  #   restart: unless-stopped
  homepage:
    image: ghcr.io/gethomepage/homepage:latest
    restart: unless-stopped
    container_name: homepage
    ports:
      - 3000:3000
    volumes:
      - /media/Config/homepage:/app/config # Make sure your local config directory exists
      - /var/run/docker.sock:/var/run/docker.sock:ro # (optional) For docker integrations
  machinaris:
    image: ghcr.io/guydavis/machinaris:latest
    container_name: machinaris
    restart: unless-stopped
    volumes:
      - "/machinaris:/root/.chia"
      # - "/mnt/chia/7f21:/7f21"
    environment:
      - TZ=America/Los_Angeles
      - mode=fullnode
      - worker_address=10.10.0.5
      - plots_dir=/7f21
      - blockchains=chia
      - blockchain_db_download=true
    ports:
      - 8926:8926
      - 8927:8927
      - 8444:8444
      - 8447:8447
    labels:
      - homepage.group=Management
      - homepage.name=Machinaris
      - homepage.icon=machinaris.png
      - homepage.href=https://machinaris.fkn.chancey.dev/
      - homepage.description=Chia
  radarr:
    image: lscr.io/linuxserver/radarr
    container_name: radarr
    environment:
      - PUID=998
      - PGID=100
      - TZ=America/Los_Angeles
    volumes:
      - /media/Config/radarr:/config
      - /media/Movies:/movies #optional
      - /media/Downloads:/downloads #optional
    ports:
      - 7878:7878
    restart: unless-stopped
    labels:
      - homepage.group=Media
      - homepage.name=Radarr
      - homepage.icon=radarr.png
      - homepage.href=https://radarr.fkn.chancey.dev/
      - homepage.description=TV Collection Manager
  sonarr:
    image: lscr.io/linuxserver/sonarr
    container_name: sonarr
    environment:
      - PUID=998
      - PGID=100
      - TZ=America/Los_Angeles
    volumes:
      - /media/Config/sonarr:/config
      - /media/Shows:/tv #optional
      - /media/Downloads:/downloads #optional
    ports:
      - 8989:8989
    restart: unless-stopped
    labels:
      - homepage.group=Media
      - homepage.name=Sonarr
      - homepage.icon=sonarr.png
      - homepage.href=https://sonarr.fkn.chancey.dev/
      - homepage.description=Movie Collection Manager
  prowlarr:
    image: lscr.io/linuxserver/prowlarr:develop
    container_name: prowlarr
    environment:
      - PUID=998
      - PGID=100
      - TZ=America/Los_Angeles
    volumes:
      - /media/Config/prowlarr:/config
      - /media/Downloads:/downloads
    ports:
      - 9696:9696
    restart: unless-stopped
  flaresolverr:
    # DockerHub mirror flaresolverr/flaresolverr:latest
    image: ghcr.io/flaresolverr/flaresolverr
    container_name: flaresolverr
    environment:
      - LOG_LEVEL=${LOG_LEVEL:-info}
      - LOG_HTML=${LOG_HTML:-false}
      - CAPTCHA_SOLVER=${CAPTCHA_SOLVER:-none}
      - TZ=America/Los_Angeles
    ports:
      - "${PORT:-8191}:8191"
    restart: unless-stopped
  qbittorrentvpn:
    image: markusmcnugen/qbittorrentvpn
    container_name: qbittorrentvpn
    privileged: true
    environment:
      - VPN_USERNAME=***REMOVED***
      - VPN_PASSWORD=***REMOVED***
      - PUID=998
      - PGID=100
      - TZ=America/Los_Angeles
      - WEBUI_PORT_ENV=8080
      - INCOMING_PORT_ENV=8999
      - VPN_ENABLED=yes
      - LAN_NETWORK=10.10.0.0/24
      - NAME_SERVERS=1.1.1.1
    volumes:
      - /media/Config/qbittorent:/config
      - /media/Downloads:/downloads
    ports:
      - 8080:8080
      - 8999:8999
      - 8999:8999/udp
    restart: unless-stopped
    labels:
      - homepage.group=Management
      - homepage.name=Qbittorent
      - homepage.icon=qbittorent.png
      - homepage.href=https://qbit.fkn.chancey.dev/
      - homepage.description=Torrent Client
  watchtower:
    image: containrrr/watchtower
    container_name: watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
  syncthing:
    image: lscr.io/linuxserver/syncthing:latest
    container_name: syncthing
    hostname: syncthing
    environment:
      - PUID=1000
      - PGID=1012
      - TZ=America/Los_Angeles
    volumes:
      - /media/Config/syncthing:/config
      - /leech:/leech
    ports:
      - 8384:8384
      - 22000:22000/tcp
      - 22000:22000/udp
      - 21027:21027/udp
    restart: unless-stopped
    labels:
      - homepage.group=Management
      - homepage.name=Syncthing
      - homepage.icon=syncthing.png
      - homepage.href=https://syncthing.fkn.chancey.dev/
      - homepage.description=File Sync
volumes:
  rss-cache:
