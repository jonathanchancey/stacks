version: "3.7"
name: slug
services:
  jellyseerr:
    image: fallenbagel/jellyseerr:1.7.0
    container_name: jellyseerr
    environment:
      - LOG_LEVEL=debug
      - TZ=America/Los_Angeles
      - PUID=5055
      - PGID=5055
      - UMASK=002
    ports:
      - 5055:5055
    volumes:
      - /slug/config/jellyseerr:/app/config
    restart: unless-stopped
    labels:
      - homepage.group=Media
      - homepage.name=Jellyseerr
      - homepage.icon=jellyseerr.png
      - homepage.href=https://jellyseerr.fkn.chancey.dev/
      - homepage.description=Media Manager
  arch-delugevpn:
    image: binhex/arch-qbittorrentvpn:4.6.2-2-01
    container_name: qbittorentvpn
    privileged: true
    restart: unless-stopped
    environment:
      - VPN_ENABLED=yes
      - VPN_USER=$PIA_USERNAME
      - VPN_PASS=$PIA_PASSWORD
      - VPN_PROV=pia
      - VPN_CLIENT=openvpn
      - STRICT_PORT_FORWARD=yes
      - ENABLE_PRIVOXY=yes
      - WEBUI_PORT=8080
      - LAN_NETWORK=10.10.0.0/24
      - NAME_SERVERS=1.1.1.1,1.0.0.1
      - DELUGE_DAEMON_LOG_LEVEL=info
      - DELUGE_WEB_LOG_LEVEL=info
      - DELUGE_ENABLE_WEBUI_PASSWORD=yes
      - DEBUG=true
      - UMASK=002
      - PUID=8112
      - PGID=8112
    cap_add:
        - NET_ADMIN
    volumes:
      - /slug/downloads:/data
      - /slug/config/qbittorent:/config
      - /etc/localtime:/etc/localtime:ro
    ports:
      - 8080:8080
      - 8118:8118
      - 6881:6881
      - 6881:6881/udp
    labels:
      - homepage.group=Management
      - homepage.name=qBittorent
      - homepage.icon=qBittorent.png
      - homepage.href=https://qbit.fkn.chancey.dev/
      - homepage.description=Torrent Client
  jellyfin:
    image: lscr.io/linuxserver/jellyfin:10.8.8-1-ls196
    container_name: jellyfin
    environment:
      - PUID=8096
      - PGID=8096
      - UMASK=002
      - TZ=America/Los_Angeles
      - JELLYFIN_PublishedServerUrl=10.10.0.5
    volumes:
      - /slug/config/jellyfin:/config
      - /media/Shows:/data/tvshows
      - /media/Movies:/data/movies
      # - /slug/media/shows:/data/tvshows
      # - /slug/media/movies:/data/movies
    ports:
      - 8096:8096
      #- 8920:8920 # https 
      - 7359:7359/udp # discoverability on local network
      - 1900:1900/udp # dlna
    labels:
      - homepage.group=Media
      - homepage.name=Jellyfin
      - homepage.icon=jellyfin.png
      - homepage.href=https://jellyfin.fkn.chancey.dev/
      - homepage.description=Media server